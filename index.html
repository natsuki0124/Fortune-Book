<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<link rel="manifest" href="manifest.json">

<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<link rel="apple-touch-icon" href="icon.png">


<link rel="apple-touch-icon" href="icon.png">

<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="命運之書">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>命運之書 Book of Answers</title>
    <style>
        :root {
            --book-size: 500px; 
        }

        /* 針對 iPhone 等手機螢幕的適配 */
        @media screen and (max-width: 480px) {
            :root {
                --book-size: 85vw; 
            }
            #text-content {
                font-size: 1.5rem !important;
                padding: 0 20px;
            }
        }

        body {
            background: #0f0f1a;
            color: white;
            font-family: 'Microsoft JhengHei', sans-serif;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            overflow: hidden;
            touch-action: manipulation;
        }

        /* --- 占卜結果容器 --- */
        #result-display {
            display: none; 
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 10;
            flex-direction: column;
            justify-content: space-between; /* 將內容推向頂端與底端 */
            align-items: center;
            padding: 10% 0 10% 0; 
            box-sizing: border-box;
            pointer-events: none; /* 確保不影響書本點擊 */
        }

        /* 文字浮現動畫：由下往上並淡入 */
        @keyframes fadeInUpText {
            from { 
                opacity: 0; 
                transform: translateY(50px); /* 從較低處浮起 */
            }
            to { 
                opacity: 1; 
                transform: translateY(0);
            }
        }

        #text-content {
            color: #ffffff; 
            font-size: 1.8rem;
            font-weight: bold;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.7), 2px 2px 4px rgba(0, 0, 0, 0.9);
            text-align: center;
            animation: fadeInUpText 1.5s ease-out forwards;
            pointer-events: auto;
        }

        /* --- 書本容器 --- */
        .book-container {
            position: relative;
            width: var(--book-size);
            height: var(--book-size);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1;
        }

        #book-image {
            position: absolute;
            width: 100%;
            height: 100%;
            object-fit: contain; 
        }

        /* --- 輸入介面 --- */
        .content-layer {
            position: relative;
            z-index: 2;
            text-align: center;
            width: 80%; 
        }

        h1 { font-size: 1.6rem; margin-bottom: 15px; text-shadow: 2px 2px 5px rgba(0,0,0,0.7); }
        
        input {
            width: 100px;
            padding: 12px;
            border-radius: 8px;
            border: none;
            text-align: center;
            background: rgba(255, 255, 255, 0.9);
            font-size: 16px; /* 避免 iPhone 輸入時畫面縮放 */
        }

        .btn-group { margin-top: 20px; }

        button {
            background-color: #e94560;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(233, 69, 96, 0.4);
            pointer-events: auto;
        }

        /* --- 重新翻頁按鈕：靜態不浮動 --- */
        .reset-btn { 
            background-color: #4e4e6a; 
            opacity: 1; /* 保持不透明 */
            margin-top: auto; /* 確保靠底 */
            transition: transform 0.2s;
        }
        
        .reset-btn:active {
            transform: scale(0.95);
        }
    </style>
</head>
<body>

<div id="result-display">
    <div id="text-content"></div>
    
    <button class="reset-btn" onclick="resetBook()">重新翻頁</button>
</div>

<div class="book-container">
    <img src="cover.png" id="book-image" alt="Book">
    <div class="content-layer" id="input-layer">
        <div id="input-area">
            <h1>📖 命運之書</h1>
            <p>默想問題後，輸入頁碼</p>
            <input type="number" id="pageNumber" min="1" max="100" placeholder="1-100">
            <div class="btn-group">
                <button onclick="revealDestiny()">翻開此頁</button>
            </div>
        </div>
    </div>
</div>

<script>
const answers = [
    "現在放手，正是時候。", "答案就在你最意想不到的地方。", "你需要更多的耐心與等待。", "是的，這是一個明智的決定。",
    "行動勝過思考，現在就去做吧。", "這件事會帶來超乎預期的好結果。", "換個方向走，路會更寬廣。", "相信你的直覺，它是正確的。",
    "保持誠實，這是唯一的解法。", "這是一個肯定的信號。", "不要急，讓子彈飛一會兒。", "最簡單的答案通常就是正確的。",
    "這可能不是你想要的，但卻是你需要的。", "多聽聽他人的意見，但最後由你決定。", "現在不是糾結細節的時候。", "放輕鬆，沒你想得那麼嚴重。",
    "再給自己一次機會。", "答案隱藏在你的回憶裡。", "這條路雖然辛苦，但值得走下去。", "換個風景，心境也會跟著轉變。",
    "不要被情緒左右了你的判斷。", "此刻的沉默比言語更有力量。", "你需要先學會愛自己。", "這是一個轉彎的契機，不是終點。",
    "先睡一覺，明天起床就有答案了。", "你的善良會為你帶來好運。", "專注於你能控制的事物。", "接受不完美，也是一種圓滿。",
    "答案就在你身邊的人身上。", "不要害怕拒絕，那是你的權利。", "冒一點險，世界會變得很不一樣。", "你需要徹底的斷捨離。",
    "保持微笑，好運正在路上。", "這件事需要一點時間來發酵。", "別忘了你的初心是什麼。", "你已經做得夠好了。",
    "去流汗吧，運動會帶走你的迷惘。", "嘗試一件你從未做過的小事。", "現在就出發，別等萬事俱備。", "大膽說出你的想法。",
    "這只是人生的一個小插曲。", "保持好奇心，驚喜就在轉角。", "你需要一段獨處的時間。", "別讓過去的失敗定義了你。",
    "換個環境，靈感就會湧現。", "這是一個學習的好機會。", "分享你的快樂，它會加倍。", "原諒那個讓你受傷的人。",
    "你擔心的事，有 90% 都不會發生。", "生命會自己找到出路。", "給彼此一點空間。", "誠實地面對內心的恐懼。",
    "這件事沒有絕對的對錯。", "多喝點水，讓身體代謝掉負能量。", "你的努力，時間會給予回饋。", "現在請深呼吸三次。",
    "別人的期待不代表你的未來。", "去大自然走走，聽聽風的聲音。", "這是一個值得慶祝的時刻。", "保持低調，暗自努力。",
    "這件事需要更多的細節才能判斷。", "如果你感到累了，休息並不丟臉。", "答案就在你讀過的某一本書裡。", "珍惜當下的擁有。",
    "這不是終點，而是一個新的起點。", "勇敢地面對挑戰。", "你的天賦正等待被挖掘。", "減少抱怨，事情會變得順利。",
    "這件事比你想像中簡單許多。", "別在憤怒時做決定。", "你需要更明確的目標。", "試著讚美你的對手。",
    "好消息正在飛奔向你。", "別讓懶惰成為你的藉口。", "你需要更充足的睡眠。", "這件事背後有隱藏的驚喜。",
    "相信時間的力量。", "這是一個重新開始的訊號。", "你的直覺正試圖告訴你什麼。", "別太在意別人的眼光。",
    "堅持下去，曙光就在前方。", "適度的妥協不是軟弱。", "這件事需要你親力親為。", "把計畫寫下來，會更清晰。",
    "保持謙卑，你會學到更多。", "這是一個絕佳的嘗試時機。", "不要活在別人的影子裡。", "去見你想見的人吧。",
    "你的問題本身就是答案。", "世界比你想像的更開闊。", "專注於當下的這一刻。", "這件事會有貴人相助。",
    "別忘了對自己溫柔一點。", "這是命運給你的小小考驗。", "答案就在你的笑容裡。", "順其自然，不要強求。",
    "大膽地展現你的獨特性。", "你的心會帶領你去正確的地方。", "這件事值得你付出真心。", "一切都是最好的安排。"
];

function revealDestiny() {
    const pageInput = document.getElementById('pageNumber');
    const page = parseInt(pageInput.value);
    const bookImg = document.getElementById('book-image');
    const inputLayer = document.getElementById('input-layer');
    const resultDisplay = document.getElementById('result-display');
    const textContent = document.getElementById('text-content');

    if (!page || page < 1 || page > 100) {
        alert("請輸入 1 到 100 的頁碼。");
        return;
    }

    pageInput.blur();
    bookImg.src = "open.png";
    inputLayer.style.display = "none";
    resultDisplay.style.display = "flex"; 
    
    textContent.innerText = "正在翻閱命運之書...";

    setTimeout(() => {
        // 使用 (page - 1) 確保輸入 1 得到陣列第一個 [0]，輸入 100 得到最後一個 [99]
        const index = page - 1; 
        textContent.innerText = `「 ${answers[index]} 」`;
    }, 1200);
}

function resetBook() {
    document.getElementById('book-image').src = "cover.png";
    document.getElementById('input-layer').style.display = "block";
    document.getElementById('result-display').style.display = "none";
    document.getElementById('pageNumber').value = "";
}
</script>

</body>
</html>